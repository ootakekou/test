# プログラミング試験問題

## 設問1
Q.監視ログファイルを読み込み、故障状態のサーバアドレスとそのサーバの故障期間を出力するプログラムを作成せよ。
出力フォーマットは任意でよい。
なお、pingがタイムアウトした場合を故障とみなし、最初にタイムアウトしたときから、次にpingの応答が返るまでを故障期間とする。

A.まず,test.rbにrequire 'logger'を記述しログを出力するように行いました。そしてログオブジェクトを生成しサンプルで読み込むテキストのログを表示します。
<p>#から始まっていなければエラーを表示するようになっております。</p>
ログ表示までは理解し記述することができたのですが、pingがタイムアウトした場合を故障とみなし、最初にタイムアウトした時から、次にpingの応答が帰るまでを故障期間とするというところでpingのタイムアウトをどのように記述すれば良いかわからず表面的なものしか完成することができませんでした。

## 設問2
Q.ネットワークの状態によっては、一時的にpingがタイムアウトしても、一定期間するとpingの応答が復活することがあり、
そのような場合はサーバの故障とみなさないようにしたい。
N回以上連続してタイムアウトした場合にのみ故障とみなすように、設問1のプログラムを拡張せよ。
Nはプログラムのパラメータとして与えられるようにすること。

A.私の力不足で設問1以降進めることができなかった為、ここからは私の仮説を伝えます。
<p>loggerを用いてネットワーク状態を判断することができるので、sample.txtを変更しpingがタイムアウトした瞬間から応答が復活するタイミング
で処理できるように実行すれば良いのではと考えて、サンプル作成時では、if文でタイムアウトした場合のみ故障となるように条件を行い,
loggerにてタイムアウト時表示を行えば良いと考えております。

## 設問3
Q.サーバが返すpingの応答時間が長くなる場合、サーバが過負荷状態になっていると考えられる。
そこで、直近m回の平均応答時間がtミリ秒を超えた場合は、サーバが過負荷状態になっているとみなそう。
設問2のプログラムを拡張して、各サーバの過負荷状態となっている期間を出力できるようにせよ。mとtはプログラムのパラメータとして与えられるようにすること。

A.設問3では直近m回の平均応答時間がtミリ秒を超えた場合、サーバが負荷状態になっていると見なすため、仮で10回の平均が50ミリ秒を超えた時のパラメータを
表示しその期間の出力を行えば良いのではと考えております。

## 設問4
Q.ネットワーク経路にあるスイッチに障害が発生した場合、そのスイッチの配下にあるサーバの応答がすべてタイムアウトすると想定される。
そこで、あるサブネット内のサーバが全て故障（ping応答がすべてN回以上連続でタイムアウト）している場合は、
そのサブネット（のスイッチ）の故障とみなそう。
設問2または3のプログラムを拡張して、各サブネット毎にネットワークの故障期間を出力できるようにせよ。

A.